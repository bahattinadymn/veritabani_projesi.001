{% extends "base.html" %}

{% block content %}
<style>
    /* Sadece bu sayfaya Ã¶zel stiller */
    .hero-wrapper {
        position: relative;
        /* Arka plan resmi (kapak.jpg) static/img klasÃ¶rÃ¼nde olmalÄ± */
        background: url("{{ url_for('static', filename='img/kapak.jpg') }}");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        border-radius: 20px;
        overflow: hidden;
        /* KÃ¶ÅŸeleri yuvarlatmak iÃ§in taÅŸan kÄ±sÄ±mlarÄ± gizle */
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        margin-bottom: 50px;
        min-height: 500px;
        /* YÃ¼ksekliÄŸi artÄ±rdÄ±k ki arka plan daha Ã§ok gÃ¶rÃ¼nsÃ¼n */
    }

    /* Yeni Dikey Kart Stili */
    .hero-card {

        background-color: rgba(0, 0, 0, 0.7);
        padding: 60px 40px;
        /* Ä°Ã§ boÅŸluklar */
        color: white;
        height: 100%;
        /* Wrapper'Ä±n yÃ¼ksekliÄŸini kaplasÄ±n */
        display: flex;
        flex-direction: column;
        justify-content: center;
        /* Ä°Ã§eriÄŸi dikeyde ortala */
        /*backdrop-filter: blur(5px); /* Hafif bir bulanÄ±klÄ±k efekti (isteÄŸe baÄŸlÄ±) */
    }

    /* DiÄŸer stiller aynÄ± */
    .feature-card {
        border: none;
        border-radius: 15px;
        transition: all 0.3s ease;
        background: white;
        height: 100%;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }

    .feature-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }

    .leaderboard-box {
        background: white;
        border-radius: 20px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
        overflow: hidden;
    }
</style>

<div class="hero-wrapper">
    <div class="row h-100 g-0">
        <div class="col-lg-5 col-md-6 h-100">
            <div class="hero-card text-center text-md-start">
                <h1 class="display-4 fw-bold mb-3">Bilgiye AÃ§Ä±lan KapÄ±</h1>
                <p class="lead mb-4 opacity-75">
                    KÃ¼tÃ¼phane yÃ¶netiminde profesyonel Ã§Ã¶zÃ¼m. Binlerce kitaba anÄ±nda eriÅŸin,
                    okuma serÃ¼veninizi takip edin ve liderlik tablosunda yerinizi alÄ±n.
                </p>
                <div class="d-flex gap-3 justify-content-center justify-content-md-start flex-wrap">
                    <a href="/books" class="btn btn-primary btn-lg px-4 py-3 rounded-pill fw-bold shadow">
                        ğŸ“– KitaplarÄ± KeÅŸfet
                    </a>
                    <a href="/register" class="btn btn-outline-light btn-lg px-4 py-3 rounded-pill fw-bold">
                        Ãœye Ol
                    </a>
                </div>
            </div>
        </div>
        <div class="col-lg-7 col-md-6"></div>
    </div>
</div>

<div class="container mt-5">
    <div class="row g-4">

        <div class="col-md-4">
            <a href="/books" class="text-decoration-none text-dark">
                <div class="card h-100 border-0 shadow-sm card-hover text-center p-4">
                    <div class="card-body">
                        <div class="display-4 mb-3">ğŸš€</div>
                        <h4 class="card-title fw-bold">HÄ±zlÄ± EriÅŸim</h4>
                        <p class="card-text text-muted">
                            GeliÅŸmiÅŸ arama motorumuz ile aradÄ±ÄŸÄ±nÄ±z kitaba saniyeler iÃ§inde ulaÅŸÄ±n.
                        </p>
                    </div>
                </div>
            </a>
        </div>

        <div class="col-md-4">
            <a href="/profile" class="text-decoration-none text-dark">
                <div class="card h-100 border-0 shadow-sm card-hover text-center p-4">
                    <div class="card-body">
                        <div class="display-4 mb-3">ğŸ—“ï¸</div>
                        <h4 class="card-title fw-bold">Kolay Takip</h4>
                        <p class="card-text text-muted">
                            Ä°ade tarihlerini kaÃ§Ä±rmayÄ±n. Profilinizden tÃ¼m sÃ¼reci anlÄ±k yÃ¶netin.
                        </p>
                    </div>
                </div>
            </a>
        </div>

        <div class="col-md-4">
            <a href="/leaderboard" class="text-decoration-none text-dark">
                <div class="card h-100 border-0 shadow-sm card-hover text-center p-4">
                    <div class="card-body">
                        <div class="display-4 mb-3">ğŸ†</div>
                        <h4 class="card-title fw-bold">Rekabet & EÄŸlence</h4>
                        <p class="card-text text-muted">
                            En Ã§ok okuyanlar listesine girin, rozetler kazanÄ±n ve okumayÄ± oyuna dÃ¶nÃ¼ÅŸtÃ¼rÃ¼n.
                        </p>
                    </div>
                </div>
            </a>
        </div>

    </div>
</div>
<div class="bg-white py-5 mb-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold">ğŸ’¬ OkurlarÄ±mÄ±z Ne Diyor?</h2>
            <p class="text-muted">KÃ¼tÃ¼phane deneyimini yaÅŸayan Ã¶ÄŸrencilerimizin gÃ¶rÃ¼ÅŸleri</p>
        </div>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100 p-3">
                    <div class="card-body">
                        <div class="mb-3 text-warning">â˜…â˜…â˜…â˜…â˜…</div>
                        <p class="card-text text-muted">"Vize haftasÄ±nda aradÄ±ÄŸÄ±m tÃ¼m kaynaklarÄ± saniyeler iÃ§inde buldum. Stok takibi Ã¶zelliÄŸi hayat kurtarÄ±cÄ±!"</p>
                        <div class="d-flex align-items-center mt-3">
                            <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center fw-bold" style="width: 40px; height: 40px;">AY</div>
                            <div class="ms-3">
                                <h6 class="mb-0 fw-bold">AyÅŸe YÄ±lmaz</h6>
                                <small class="text-muted">MimarlÄ±k FakÃ¼ltesi</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100 p-3">
                    <div class="card-body">
                        <div class="mb-3 text-warning">â˜…â˜…â˜…â˜…â˜…</div>
                        <p class="card-text text-muted">"Liderlik tablosunda birinci olmak iÃ§in daha Ã§ok okuyorum. Hem eÄŸlenceli hem Ã¶ÄŸretici bir sistem."</p>
                        <div class="d-flex align-items-center mt-3">
                            <div class="bg-success text-white rounded-circle d-flex align-items-center justify-content-center fw-bold" style="width: 40px; height: 40px;">MK</div>
                            <div class="ms-3">
                                <h6 class="mb-0 fw-bold">Mehmet Kaya</h6>
                                <small class="text-muted">Bilgisayar MÃ¼hendisliÄŸi</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card border-0 shadow-sm h-100 p-3">
                    <div class="card-body">
                        <div class="mb-3 text-warning">â˜…â˜…â˜…â˜…â˜†</div>
                        <p class="card-text text-muted">"Profilimden iade tarihlerini takip edebilmek Ã§ok iyi. ArtÄ±k ceza Ã¶demekten kurtuldum."</p>
                        <div class="d-flex align-items-center mt-3">
                            <div class="bg-danger text-white rounded-circle d-flex align-items-center justify-content-center fw-bold" style="width: 40px; height: 40px;">ZS</div>
                            <div class="ms-3">
                                <h6 class="mb-0 fw-bold">Zeynep SÃ¶nmez</h6>
                                <small class="text-muted">TÄ±p FakÃ¼ltesi</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container mb-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="text-center mb-4">
                <h2 class="fw-bold">ğŸ¤” SÄ±kÃ§a Sorulan Sorular</h2>
                <p class="text-muted">AklÄ±nÄ±za takÄ±lan sorularÄ±n cevaplarÄ± burada</p>
            </div>
            
            <div class="accordion shadow-sm rounded-3 overflow-hidden" id="faqAccordion">
                
                <div class="accordion-item border-0 border-bottom">
                    <h2 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                            AynÄ± anda kaÃ§ kitap Ã¶dÃ¼nÃ§ alabilirim?
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                        <div class="accordion-body text-muted">
                            Her Ã¶ÄŸrenci aynÄ± anda en fazla <strong>3 kitap</strong> Ã¶dÃ¼nÃ§ alabilir. Elinizdeki kitaplardan birini iade ettiÄŸinizde yeni bir kitap alma hakkÄ±nÄ±z doÄŸar.
                        </div>
                    </div>
                </div>

                <div class="accordion-item border-0 border-bottom">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
                            Kitap iade sÃ¼resi ne kadar?
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body text-muted">
                            Ã–dÃ¼nÃ§ aldÄ±ÄŸÄ±nÄ±z her kitap iÃ§in iade sÃ¼resi <strong>14 gÃ¼ndÃ¼r</strong>. Bu sÃ¼reyi profil sayfanÄ±zdan takip edebilirsiniz.
                        </div>
                    </div>
                </div>

                <div class="accordion-item border-0">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
                            Gecikme cezasÄ± ne kadar?
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body text-muted">
                            Ä°ade tarihini geÃ§irdiÄŸiniz her gÃ¼n iÃ§in kitap baÅŸÄ±na <strong>5.00 TL</strong> gecikme cezasÄ± uygulanÄ±r. Cezalar sistem tarafÄ±ndan otomatik hesaplanÄ±r.
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<style>
    .card-hover {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card-hover:hover {
        transform: translateY(-10px);
        /* YukarÄ± zÄ±plat */
        box-shadow: 0 1rem 3rem rgba(0, 0, 0, .175) !important;
        /* GÃ¶lgeyi bÃ¼yÃ¼t */
        cursor: pointer;
        background-color: #f8f9fa;
        /* Hafif gri olsun */
    }
</style>



<script>
    document.addEventListener("DOMContentLoaded", async function () {
        try {
            const response = await fetch('/api/reports/leaderboard');
            const data = await response.json();
            const list = document.getElementById('leaderboardList');
            list.innerHTML = '';
            if (data.length === 0) {
                list.innerHTML = '<li class="list-group-item text-center py-4 text-muted">HenÃ¼z veri yok. Ä°lk okuyan sen ol!</li>';
                return;
            }
            data.forEach((user, index) => {
                let rankStyle = "bg-light text-muted"; let icon = `#${index + 1}`; let rowClass = "";
                if (index === 0) { icon = 'ğŸ¥‡'; rankStyle = "fs-4"; rowClass = "bg-warning bg-opacity-10"; }
                if (index === 1) { icon = 'ğŸ¥ˆ'; rankStyle = "fs-5"; }
                if (index === 2) { icon = 'ğŸ¥‰'; rankStyle = "fs-5"; }
                list.innerHTML += `
                    <li class="list-group-item d-flex justify-content-between align-items-center ${rowClass}">
                        <div class="d-flex align-items-center">
                            <span class="me-3 fw-bold ${rankStyle}" style="min-width:30px;">${icon}</span>
                            <span class="fw-semibold" style="font-size: 1.1rem;">${user.ad_soyad}</span>
                        </div>
                        <span class="badge bg-primary rounded-pill px-3 py-2">${user.skor} Kitap</span>
                    </li>`;
            });
        } catch (error) {
            console.error(error);
            document.getElementById('leaderboardList').innerHTML = '<li class="list-group-item text-danger text-center">Veri yÃ¼klenemedi.</li>';
        }
    });
</script>
{% endblock %}